<ngx-smart-modal #vrfModal [dismissable]="false" customClass="large-modal" identifier="vrfModal" (onOpen)="getData()" (onClose)="reset()">
  <header class="modal-header">
    <h4 class="modal-title">VRF</h4>
  </header>
  <div class="modal-body">
    <!-- Read-Only VRF Information -->
    <div *ngIf="currentVrf">
      <h5 class="mb-3">VRF Information</h5>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>Name</strong></label>
            <div class="form-control-plaintext">{{ currentVrf.name || 'Not set' }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>Alias</strong></label>
            <div class="form-control-plaintext">{{ currentVrf.alias || 'Not set' }}</div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>Description</strong></label>
            <div class="form-control-plaintext">{{ currentVrf.description || 'Not set' }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"
              ><strong>Host-Based Routes to External VRFs</strong>
              <tooltip [message]="helpText.HostBasedRoutesToExternalVrfs"></tooltip>
            </label>
            <div class="form-control-plaintext">{{ currentVrf.hostBasedRoutesToExternalVrfs || 'Not set' }}</div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>Policy Control Enforced</strong></label>
            <div class="form-control-plaintext">
              <span
                class="badge"
                [class.badge-success]="currentVrf.policyControlEnforced"
                [class.badge-secondary]="!currentVrf.policyControlEnforced"
              >
                {{ currentVrf.policyControlEnforced ? 'Enforced' : 'Not Enforced' }}
              </span>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>Policy Control Enforcement Ingress</strong></label>
            <div class="form-control-plaintext">
              <span
                class="badge"
                [class.badge-success]="currentVrf.policyControlEnforcementIngress"
                [class.badge-secondary]="!currentVrf.policyControlEnforcementIngress"
              >
                {{ currentVrf.policyControlEnforcementIngress ? 'Ingress' : 'Egress' }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"
              ><strong>Max External Routes</strong>
              <tooltip [message]="helpText.MaxExternalRoutes"></tooltip>
            </label>
            <div class="form-control-plaintext">{{ currentVrf.maxExternalRoutes || 'Not set' }}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"><strong>BGP ASN</strong></label>
            <div class="form-control-plaintext">{{ currentVrf.externalBgpAsn || 'Not set' }}</div>
            <div class="form-control-plaintext">{{ currentVrf.internalBgpAsn || 'Not set' }}</div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"
              ><strong>External VRFs</strong>
              <tooltip [message]="helpText.ExternalVrfs"></tooltip>
            </label>
            <div class="form-control-plaintext">
              <span *ngIf="!currentVrf.externalVrfs || currentVrf.externalVrfs.length === 0" class="text-muted">
                No external VRFs configured
              </span>
              <span *ngIf="currentVrf.externalVrfs && currentVrf.externalVrfs.length > 0">
                <span *ngFor="let vrf of currentVrf.externalVrfs" class="vrf-tag">
                  {{ vrf }}
                </span>
              </span>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="form-label"
              ><strong>Default External VRF</strong>
              <tooltip [message]="helpText.DefaultExternalVrf"></tooltip>
            </label>
            <div class="form-control-plaintext">
              <span *ngIf="!currentVrf.defaultExternalVrf" class="text-muted">No default VRF set</span>
              <span *ngIf="currentVrf.defaultExternalVrf" class="vrf-tag default-vrf">
                {{ currentVrf.defaultExternalVrf }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="closeModal()">Close</button>
  </footer>
</ngx-smart-modal>
