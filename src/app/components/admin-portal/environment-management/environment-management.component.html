<ng-container>
  <ng-container>
    <section class="btn-toolbar" role="toolbar">
      <button type="button" class="btn btn-success" (click)="openEnvironmentModal(ModalMode.Create)">
        <fa-icon class="icon" [icon]="['fas', 'plus']"></fa-icon>
        <span>Create Environment</span>
      </button>
    </section>
    <app-table [config]="config" [data]="environments" [(itemsPerPage)]="perPage" (tableEvent)="onTableEvent($event)"> </app-table>
  </ng-container>
</ng-container>

<ng-template #actionsTemplate let-environment="datum">
  <section class="table__actions">
    <app-icon-button icon="edit" label="Edit Environment" type="primary" (handleClick)="editEnvironment(environment)"></app-icon-button>
  </section>
</ng-template>

<ng-template #externalVrfsTemplate let-environment="datum">
  <span [title]="environment.externalVrfs?.join(', ') || 'No VRFs configured'">
    {{ getExternalVrfDisplayText(environment.externalVrfs) }}
  </span>
</ng-template>

<ng-template #lastSyncTemplate let-environment="datum">
  <span [title]="environment.lastRouteSyncAt">
    {{ environment.lastRouteSyncAt }}
  </span>
</ng-template>

<app-environment-modal></app-environment-modal>
