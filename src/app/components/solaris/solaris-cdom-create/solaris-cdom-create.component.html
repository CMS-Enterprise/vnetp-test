<div>
  <form name="CDOMCloneOrCreateForm" class="form" #form="ngForm" novalidate>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="inputCDOMName">CDOM Name</label>
        <input
          name="inputCDOMName"
          aria-label="Input CDOM Name"
          type="text"
          class="form-control"
          placeholder="Name"
          #name="ngModel"
          [(ngModel)]="CDOM.name"
        />
      </div>

      <div class="form-group col-md-4">
        <label for="cdomClone">Clone CDOM From:</label>
        <div class="input-group">
          <select
            name="cdomClone"
            class="form-control"
            id="cdomClone"
            #cdomClone="ngModel"
            [(ngModel)]="cdomInput"
          >
            <option
              class="list-group-item"
              *ngFor="let cdom of CDOMDeviceArray"
              [ngValue]="cdom"
            >
              {{ cdom.name }}
            </option>
          </select>
          <button class="btn btn-success" (click)="cloneCdom()">
            Clone
          </button>
        </div>
      </div>
    </div>

    <hr />

    <div class="form-row">
      <div class="form-group col-md-1">
        <label for="inputCDOMvCPU">vCPU</label>
        <select
          name="inputCDOMvCPU"
          aria-label="vCPU for CDOM"
          class="form-control"
          #name="ngModel"
          [(ngModel)]="CDOM.set_vcpu"
        >
          <option></option>
          <option
            *ngFor="let cpuCount of [1, 2, 4, 6, 8, 10, 12]"
            [ngValue]="cpuCount"
            >{{ cpuCount }} vCPU</option
          >
        </select>
      </div>

      <div class="form-group col-md-1">
        <label for="inputCDOMMemory">RAM (GB)</label>
        <select
          name="inputCDOMMemory"
          aria-label="RAM GB"
          class="form-control"
          #name="ngModel"
          [(ngModel)]="CDOM.mem"
        >
          <option></option>
          <option
            *ngFor="let ramAmount of [8, 16, 32, 64]"
            [ngValue]="ramAmount"
            >{{ ramAmount }} GB</option
          >
        </select>
      </div>
    </div>

    <hr />

    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="inputCDOMVCCname">VCC Name</label>
        <input
          name="inputCDOMVCCname"
          aria-label="CDOM VCC name"
          class="form-control"
          #vccName="ngModel"
          [(ngModel)]="CDOM.vccname"
        />
      </div>

      <div class="form-group col-md-4">
        <label for="inputCDOMVCCports">VCC Ports (e.g. 5000-5100)</label>
        <input
          name="inputCDOMVCCports"
          aria-label="CDOM VCC Ports"
          class="form-control"
          #vccPorts="ngModel"
          [(ngModel)]="CDOM.vccports"
        />
      </div>
    </div>

    <hr />

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputCdomVsw">VSW</label>
        <input
          name="inputCdomVsw"
          aria-label="CDOM VDS Config"
          type="text"
          class="form-control"
          #addVsw="ngModel"
          [(ngModel)]="CDOM.add_vsw"
        />
      </div>

      <div class="form-group col-md-2">
        <label for="inputCdomVsw">Net Device</label>
        <input
          name="inputCdomNetDevice"
          aria-label="CDOM Net Device for VSW"
          type="text"
          class="form-control"
          #addVsw="ngModel"
          [(ngModel)]="CDOM.net_device"
        />
      </div>

      <div class="form-group col-md-4">
        <label for="inputCDOMVNet">VNET</label>
        <input
          name="inputCDOMVDS"
          aria-label="CDOM VDS Config"
          type="text"
          class="form-control"
          #vnet="ngModel"
          [(ngModel)]="CDOM.vnet"
        />
      </div>

      <div class="form-group col-md-4">
        <label for="inputCDOMVLANs">VLANS</label>
        <input
          name="inputCDOMVLANs"
          aria-label="CDOM VLANS"
          type="text"
          class="form-control"
          #vlans="ngModel"
          [(ngModel)]="CDOM.vlans"
        />
      </div>
    </div>

    <hr />

    <div class="form-row">

      <div class="form-group offset-6 col-md-6">
          <table 
          name="vdsTable"
          class="table">
            <thead>
              <tr>
                <th>VDS</th>
                <th>Disk Name</th>
                <th>Size</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let vds of vdsDevs">
                <td>{{ vds.vds }}</td>
                <td>{{ vds.diskName }}</td>
                <td>{{ vds.diskSize }}</td>
                <td>      
                  <fa
                  name ="trash"
                  (click)="deleteVdsDev(vds)">
                  </fa>
                </td>
              </tr>
            </tbody>
          </table>

          <button name="addVdsDev" class="btn btn-success" (click)="openVdsModal()">Add VDS Device</button>

      </div>

      <div class="form-group col-md-2">
      </div>
    </div>

    <hr />

    <div class="btn-group">
      <button
        class="btn btn-success"
        aria-label="Save"
        (click)="launchCDOMJobs()"
      >
        Save
      </button>
    </div>
  </form>
</div>

<ngx-smart-modal
  #vdsDevModal
  identifier="vdsDevModal"
  customClass="'modal-content'"
>
  <div class="modal-header">
    <h4 class="modal-title">Add VDS Dev</h4>
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
      (click)="logoutModal.close()"
    ></button>
  </div>

  <div class="modal-body">
    <div class="form-row">
        <div class="form-group col-md-12">
            <label for="inputCDOMVDS">VDS</label>
            <select
              name="inputCDOMVDS"
              aria-label="CDOM vDisk name"
              class="form-control"
              id="inputCDOMVDS"
              #formVds="ngModel"
              [(ngModel)]="addVdsDev.vds"
            >
              <option value="primary-vds0">primary-vds0</option>
              <option value="secondary-vds0">secondary-vds0</option>
            </select>
          </div>
    </div>

    <div class="form-row">


    <div class="form-group col-md-8">
      <label for="diskName">Disk Name</label>
      <input class="form-control" [(ngModel)]="addVdsDev.diskName" />
    </div>

    <div class="form-group col-md-4">
        <label for="diskName">Disk Size</label>
        <input class="form-control" type="number" [(ngModel)]="addVdsDev.diskSize" />
      </div>
  </div>


</div>

  <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal"
    (click)="insertVds()">
      Add
    </button>

    <button
      type="button"
      class="btn btn-secondary"
      data-dismiss="modal"
      (click)="vdsDevModal.close()"
    >
      Cancel
    </button>
  </div>
</ngx-smart-modal>
