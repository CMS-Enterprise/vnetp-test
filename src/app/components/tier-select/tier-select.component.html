<div class="form-row pb-2 justify-content-center align-items-center" *ngIf="currentUser">
  <span class="col-form-label mr-2">
    Current Tier:
  </span>
  <strong>{{ currentTier?.name || 'No Tier Selected' }}</strong>

  <button type="button" class="btn btn-sm btn-primary ml-3" (click)="openTierModal()" [disabled]="!datacenterId">
    {{ currentTier ? 'Switch' : 'Select' }} Tier
  </button>
</div>

<ngx-smart-modal #tierSwitchModal identifier="tierSwitchModal">
  <div class="modal-header">
    <h4 class="modal-title">{{ currentTier ? 'Switch' : 'Select' }} Tier</h4>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="tierSwitchModal.close()"></button>
  </div>

  <div class="modal-body">
    <p class="mb-3">Current Tier: {{ currentTier?.name || 'No Tier Selected' }}</p>
    <ng-select [items]="tiers" bindLabel="name" bindValue="id" [(ngModel)]="selectedTier"></ng-select>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-link" data-dismiss="modal" (click)="tierSwitchModal.close()">
      Cancel
    </button>

    <button type="button" class="btn btn-primary" data-dismiss="modal" [disabled]="!selectedTier" (click)="switchTier(); tierSwitchModal.close()">
      {{ currentTier ? 'Switch' : 'Select' }} Tier
    </button>
  </div>
</ngx-smart-modal>
