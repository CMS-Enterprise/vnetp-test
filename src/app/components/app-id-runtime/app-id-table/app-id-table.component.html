<div class="col-md-12">
  <h5>{{ type === 'assocaited' ? 'Associated Applications' : 'Available Applications' }}</h5>
  <div class="text-right">
    <input
      type="text"
      class="search-input mb-1 mr-1"
      placeholder="Search..."
      aria-label="Search"
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
    />
  </div>
  <div class="table-wrapper-scroll-y my-custom-scrollbar">
    <table class="table table-sm table-hover">
      <thead class="thead-light">
        <tr>
          <th>Name</th>
          <th>Category</th>
          <th>Subcategory</th>
          <th>Risk</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let app of filteredApplications ?? applications">
          <td>
            <span matTooltip="show details" [matTooltipPosition]="'right'" class="clickable-name" (click)="openDetailsDialog(app)">
              {{ app.name }}
            </span>
          </td>
          <td>{{ app.category }}</td>
          <td>{{ app.subCategory }}</td>
          <td>{{ app.risk }}</td>
          <td>
            <button *ngIf="type === 'available'" type="button" class="btn btn-primary" (click)="addPanosAppToFirewallRule(app)">Add</button>
            <button *ngIf="type === 'assocaited'" type="button" class="btn btn-danger" (click)="removePanosAppFromFirewallRule(app)">
              Remove
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- <div class="col-md-12">
  <h5>{{ type === 'assocaited' ? 'Associated Applications' : 'Available Applications' }}</h5>
  <div class="text-right">
    <input
      type="text"
      matInput
      class="mb-1 mr-1"
      placeholder="Search..."
      aria-label="Search"
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
    />
  </div>
  <div class="table-wrapper-scroll-y my-custom-scrollbar">
    <table mat-table [dataSource]="filteredApplications ?? applications" class="mat-elevation-z8" multiTemplateDataRows>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let app">
          <span matTooltip="show details" matTooltipPosition="right" class="clickable-name" (click)="openDetailsDialog(app)">
            {{ app.name }}
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef>Category</th>
        <td mat-cell *matCellDef="let app">{{ app.category }}</td>
      </ng-container>

      <ng-container matColumnDef="subCategory">
        <th mat-header-cell *matHeaderCellDef>Subcategory</th>
        <td mat-cell *matCellDef="let app">{{ app.subCategory }}</td>
      </ng-container>

      <ng-container matColumnDef="risk">
        <th mat-header-cell *matHeaderCellDef>Risk</th>
        <td mat-cell *matCellDef="let app">{{ app.risk }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let app">
          <button
            *ngIf="type === 'available'"
            mat-raised-button
            color="primary"
            (click)="addPanosAppToFirewallRule(app)"
          >
            Add
          </button>
          <button
            *ngIf="type === 'assocaited'"
            mat-raised-button
            color="warn"
            (click)="removePanosAppFromFirewallRule(app)"
          >
            Remove
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div> -->
