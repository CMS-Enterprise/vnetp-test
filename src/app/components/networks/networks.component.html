<div>
  <h1>Subnets</h1>

  <div class="btn-toolbar mb-2 pull-right" role="toolbar">
    <div class="button-group btn-group-sm">
      <button
        type="button"
        class="btn btn-success mr-1"
        aria-label="Create Subnet"
        [routerLink]="['create']" 
        queryParamsHandling="merge"
        >
        <fa name="plus"></fa>
        Create Subnet
      </button>

      <app-import-export
        [exportObject]="exportNetworkConfig()"
        exportFileName="subnets"
        disableCsv="true"
        (import)="importNetworkConfig($event)"
        disableExport="true"
      ></app-import-export>

      <button type="button" class="btn btn-info mr-1" (click)="getNetworks()">
        <fa name="refresh"></fa>
        Refresh
      </button>
    </div>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Subnet - Gateway</th>
        <th scope="col">Tier (VRF)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let subnet of subnets">
        <td>
          <a routerLink="/networks/edit/{{ subnet.id }}" queryParamsHandling="merge">
            {{ subnet?.name }}
          </a>
        </td>
        <td>{{ subnet?.network }} - {{ subnet?.gateway }}</td>
        <td>{{ subnet?.tierId | resolve: getTierName  }}</td>
      </tr>
      <tr *ngIf="subnets?.length === 0" class="text-center">
        <td colspan="4">No Subnets</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="subnets?.length" class="btn-toolbar mb-2 pull-right" role="toolbar">
    <div class="button-group btn-group-sm">
      <app-import-export
        [exportObject]="exportNetworkConfig()"
        exportFileName="subnets"
        disableCsv="true"
        (import)="importNetworkConfig($event)"
        disableImport="true"
      ></app-import-export>
    </div>
  </div>
</div>
