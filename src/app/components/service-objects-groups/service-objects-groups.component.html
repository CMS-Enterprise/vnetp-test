<div>

    <div class="input-group input-group-sm pb-2">
      <div class="input-group-prepend">
        <span class="input-group-text">Tier (VRF)</span>
      </div>

      <select
        name="vrf"
        class="form-control form-control-sm col-md-3 mr-1"
        [(ngModel)]="currentVrf"
        (ngModelChange)="getVrfObjects(currentVrf)"
        [disabled]="dirty"
      >
        <option *ngFor="let vrf of vrfs" [ngValue]="vrf">{{ vrf.name }}</option>
      </select>
      <span class="button-group btn-group-sm">
          <button
          type="button"
          class="btn btn-danger mr-1"
          aria-label="Save Network Objects/Groups"
          (click)="saveAll()"
          [hidden]="!dirty"
        >
        Save Changes to Current Tier (VRF)
      </button>   
      <button
        type="button"
        class="btn btn-warning mr-1"
        aria-label="Clear Changes"
        (click)="getVrfs()"
        [hidden]="!dirty"
        >
        Clear Changes to Current TIer (VRF)
      </button>
      </span>

      <div class="pull-right" *ngIf="currentVrf">
          <app-import-export
          [exportObject]="exportServiceObjectConfig()"
          exportFileName="serviceObjects-{{currentVrf.name}}"
          disableCsv=true
          (import)="importServiceObjectConfig($event)"
        ></app-import-export>
      </div>
    </div>

    <ul class="nav nav-tabs">
      <li class="nav-item" (click)="navIndex = 0">
        <a class="nav-link" [ngClass]="{ active: navIndex == 0 }"
          >Service Object</a
        >
      </li>
      <li class="nav-item" (click)="navIndex = 1">
        <a class="nav-link" [ngClass]="{ active: navIndex == 1 }"
          >Service Object Groups</a
        >
      </li>
    </ul>
  
    <div *ngIf="navIndex == 0">
      <div class="btn-group-sm m-2" role="group">
        <button
          type="button"
          class="btn btn-success"
          (click)="createServiceObject()"
          aria-label="Create Service Object"
        >
Create Service Object
      </button>
      </div>
  
      <div class="card">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Type</th>
              <th scope="col">Source Port</th>
              <th scope="col">Destination Port</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let serviceObject of serviceObjects">
              <td>
                <p>{{ serviceObject.Name }}</p>
              </td>
              <td>
                <p>{{ serviceObject.Type }}</p>
              </td>
              <td>
                <p>{{ serviceObject.SourcePort }}</p>
              </td>
              <td>
                <p>{{ serviceObject.DestinationPort }}</p>
              </td>
              <td>
                <fa
                  name="pencil"
                  (click)="editServiceObject(serviceObject)"
                  aria-label="Edit Service Object"
                >
                </fa>
                <fa
                name ="trash"
                (click)="deleteServiceObject(serviceObject)"
                >
                </fa>
              </td>
            </tr>
            <tr *ngIf="serviceObjects?.length === 0" class="text-center">
                <td colspan="4">No Service Objects in this TIer (VRF).</td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>
  
    <div *ngIf="navIndex == 1">
      <div class="btn-group-sm m-2" role="group">
        <button
          type="button"
          class="btn btn-success"
          (click)="createServiceObjectGroup()"
          aria-label="Service Object Groups"
        >
Create Service Object Group        </button>
      </div>
  
      <div class="card">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Type</th>
              <th scope="col">Members</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let serviceObjectGroup of serviceObjectGroups">
              <td>
                <p>{{ serviceObjectGroup.Name }}</p>
              </td>
              <td>
                <p>{{ serviceObjectGroup.Type }}</p>
              </td>
              <td>
                <p>{{ serviceObjectGroup.ServiceObjects.length }}</p>
              </td>
              <td>
                <fa
                  name="pencil"
                  (click)="editServiceObjectGroup(serviceObjectGroup)"
                  aria-label="Edit Service Object Group"
                >
                </fa>
                <fa
                name ="trash"
                (click)="deleteServiceObjectGroup(serviceObjectGroup)"
                >
                </fa>
              </td>
            </tr>
            <tr *ngIf="serviceObjectGroups?.length === 0" class="text-center">
                <td colspan="3">No Service Object Groups in this Tier (VRF).</td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

<app-service-object-group-modal></app-service-object-group-modal>
<app-service-object-modal></app-service-object-modal>