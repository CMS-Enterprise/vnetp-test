<div class="form-row p-3">
  <div
    *ngFor="let wizardSection of WizardSections"
    class="form-group col-md-4 card border-secondary mb-3"
  >
    <div class="card-header">
      <label><h2>
          {{ wizardSection.Name }}</h2>Current Status: <span class="font-italic">{{ wizardSection.StatusText}}</span>
      </label>

      <div class="progress" style="height: 20px;">
          <div class="progress-bar" role="progressbar" [ngStyle]="{'width': getProgressBarPercentage(wizardSection.StatusProgress)}"></div>
        </div>
    </div>

      <div class="pl-1 card" *ngFor="let category of wizardSection.Categories">
        <div class="card-header">
          <label>
            <fa
              name="{{ category?.Expanded ? 'chevron-down' : 'chevron-right' }}"
              (click)="category.Expanded = !category.Expanded"
            ></fa>
            {{ category.Name }}</label>
        </div>

        <div *ngIf="category?.Expanded">
          <div class="card" *ngFor="let subcategory of category.Subcategories">
            <label>
              <fa
                name="{{
                  subcategory?.Expanded ? 'chevron-down' : 'chevron-right'
                }}"
                (click)="subcategory.Expanded = !subcategory.Expanded"
              ></fa>

              {{ subcategory.Name }}
            </label>

            <!--Move Ticket Number and Status to Right-->
            <div *ngIf="subcategory?.Expanded">
              <div class="pl-3 card" *ngFor="let item of subcategory.Items">
                <div class="pull-left">{{ item.Name }} - <a routerLink=item?.Link>Ticket # 1234</a> - Not Started</div>
                <p class="pl-4" *ngIf="item.Description">
                  - {{ item.Description }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>

  <hr />
</div>
