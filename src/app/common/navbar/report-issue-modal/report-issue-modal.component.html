<!-- Report Issue -->
<ngx-smart-modal #reportIssueModal identifier="reportIssueModal" [dismissable]="false" (onClose)="closeModal()">
  <header class="modal-header">
    <h4 class="modal-title">Report a Problem</h4>
  </header>

  <form [formGroup]="issueForm" (ngSubmit)="saveFeedback()">
    <div class="modal-body">
      <p>This form is solely for reporting issues within the DRaaS Control System (DCS).</p>
      <p>
        <i><b>Do not</b></i> use this form to report SEV1 or SEV2 issues to DRaaS Support. Instead, to ensure SEV1/SEV2 issues are addressed
        promptly, submit a ticket in Centers for Medicare and Medicaid Service Now.
      </p>
      <div class="form-group">
        <label for="component">Component</label>
        <select
          formControlName="component"
          class="form-control"
          id="component"
          aria-label="component"
          name="component"
          (change)="update($event)"
          [class.is-invalid]="submitted && issue.component.errors"
        >
          <option *ngFor="let comp of comps" [value]="comp">
            {{ comp }}
          </option>
        </select>
        <div *ngIf="submitted && issue.component.errors" class="invalid-feedback">
          <div *ngIf="issue.component.errors.required">Component is required</div>
        </div>
      </div>
      <!-- <div class="form-row"></div> -->
      <div class="form-group">
        <!-- <label for="description">Describe your issue</label> -->
        <div>
          <div *ngFor="let question of issueFormText">
            {{ question }}
            <textarea
              id="description"
              rows="2"
              formControlName="description"
              [class.is-invalid]="submitted && issue.description.errors"
              class="form-control"
              style="resize: none"
            >
            </textarea>
          </div>
        </div>

        <!-- <textarea
          id="description"
          rows="15"
          formControlName="description"
          [class.is-invalid]="submitted && issue.description.errors"
          class="form-control"
        >
        </textarea> -->
        <div *ngIf="submitted && issue.description.errors" class="invalid-feedback">
          <div *ngIf="issue.description.errors.required">Description is required</div>
        </div>
      </div>
    </div>

    <footer class="modal-footer">
      <button type="button" class="btn btn-link" data-dismiss="modal" (click)="closeModal()">Cancel</button>
      <button type="submit" class="btn btn-danger" data-dismiss="modal">
        <fa-icon class="icon" [icon]="['fas', 'sign-out-alt']"></fa-icon>
        <span>Send</span>
      </button>
    </footer>
  </form>
</ngx-smart-modal>
